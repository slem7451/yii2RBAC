<h1>RBAC на yii2 с использованием DBManager</h1>
Схема в БД была утеряна, поэтому здесь только код на Yii2 без БД :С
<h3>Чтобы все работало:</h3>

1. Создаем схему yii2task или запускаем docker-compose файл
2. В yii2task должна быть стандартная для Yii2 таблица ползователей (поля написаны в классе common/models/User.php)
3. Мигрируем таблицы для DBManager (yii migrate --migrationPath=@yii/rbac/migrations/)
4. В auth_item создаем роли admin, client, outsource, clientModerator, outsourceModerator. Создаем права clientCRUD, outsourceCRUD
5. В auth_item_child admin родитель client, ousource; client родитель clientModerator, clientCRUD; outsource родитель outsourceModerator, outsourceCRUD
6. В auth_assigment вручную указываем id пользователя с ролью admin. Все остальные пользователи будут в эту таблицу попадать автоматически при регистрации
7. Запустить серевер. localhost:20080 - frontend, localhost:21080 - backend

<h3>Роли (в порядке приоритета):</h3>

1. Администратор
2. Клиент, оутсорсер
3. Модераторы от клиентов и оутсорсеров

Администратор создается вручную и может управлять зарегистрированными пользователми из backend части. А именно:

1. Изменять имя пользователя и пароль
2. Заблокиовать или разблокировать пользователя

Клиенты и оутсорсеры должны сначала зарегистрироваться во frontend. Затем они могут авторизоваться и делать следующее:

1. Создавать модераторов
2. Изменять их имя пользователя и пароль
3. Заблокировать или разблокировать пользователя

Киленты, оутсорсеры, а также их модераторы не смогут авторизоваться в backend.
